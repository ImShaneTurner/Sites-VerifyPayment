<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <!-- Import Ant Design CSS stylesheet -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/antd/4.17.2/antd.min.css" />
    <style>
      header {
        margin: 0;
        padding: 24px;
      }

      html, body {
        height: 100%;
      }

      body {
        flex-direction: column;
        align-items: center;
        margin: 0;
        padding: 0;
        <!-- max-width: 480px; -->
      }

      footer {
        text-align: center;
        height: 48px;
        line-height: 48px;
        background-color: #f0f0f0;
        position: absolute;
        bottom: 0;
        width: 100%;
      }

      .ant-form {
        padding: 24px;
      }

      .ant-typography {
        font-size: 24px;
        font-weight: bold;
      }
    </style>
  </head>
  <body>
    <!-- Header -->
    <header>
      <h2 class="ant-typography">Verify payment</h2>
      <p>Please enter the payment details as given to you by the payer.</p>
    </header>  

    <!-- Transaction form -->
    <form id="payment-form" class="ant-form ant-form-horizontal">
      <div class="ant-form-item">
        <label class="ant-form-item-label">Transaction Date:</label>
        <div class="ant-form-item-control">
          <div class="ant-input-group">
            <span class="ant-input-group-addon">
              <i class="anticon anticon-calendar"></i>
            </span>
            <input type="date" name="transaction_date" class="ant-input" required>
          </div>
        </div>
      </div>
      <div class="ant-form-item">
        <label class="ant-form-item-label">Transaction Amount:</label>
        <div class="ant-form-item-control">
          <div class="ant-input-group">
            <span class="ant-input-group-addon">ZAR</span>
            <input type="text" name="transaction_amount" class="ant-input" placeholder="Enter the amount paid to you" min="0" required>
          </div>
        </div>
      </div>
      <div class="ant-form-item">
        <label class="ant-form-item-label">Payment Reference:</label>
        <div class="ant-form-item-control">
          <input type="text" name="payment_reference" class="ant-input" placeholder="Enter the payment reference generated by the bank" required>
        </div>
      </div>
      <div class="ant-form-item">
        <label class="ant-form-item-label">Account Number:</label>
        <div class="ant-form-item-control">
          <input type="text" name="account_number" class="ant-input" placeholder="Enter the account number that payment was made to" required>
        </div>
      </div>
      <div class="ant-form-item">
        <div class="ant-form-item-control">
          <button class="ant-btn ant-btn-primary" type="submit">Check payment</button>
        </div>
      </div>    
    </form>

    <!-- Modal Container -->
    <div id="modal-container"></div> 

    <!-- Import Ant Design JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/antd/4.17.2/antd.min.js"></script>
    <script>
      // Format input field value to include comma separator and decimal places
      function formatCurrency(event) {
        const input = event.target;
        const value = input.value.replace(/\D/g, "");
        const formattedValue = new Intl.NumberFormat("en-ZA", { style: "currency", currency: "ZAR" }).format(value / 100);
        input.value = formattedValue;
      }
  
      // Listen to input event on the transaction amount field
      const transactionAmountField = document.querySelector('input[name="transaction_amount"]');
      transactionAmountField.addEventListener("input", formatCurrency);

      function showModal() {
        const modal = Antd.Modal.confirm({
          title: 'Confirm action',
          content: 'Are you sure you want to perform this action?',
          onOk: () => {
            // Logic for success state
            Antd.notification.success({
              message: 'Success',
              description: 'Action completed successfully.',
            });
          },
          onCancel: () => {
            // Logic for fail state
            Antd.notification.error({
              message: 'Failed',
              description: 'Action was not completed.',
            });
          },
        });

        // Render modal to the page
        modal.update({
          getContainer: () => document.getElementById('modal-container'),
        });
      }
    </script>
    <script>
      function formatCurrency(amount) {
        // Create a number formatter with ZAR currency and decimal formatting
        const formatter = new Intl.NumberFormat('en-ZA', {
          style: 'currency',
          currency: 'ZAR',
          minimumFractionDigits: 2
        });
    
        // Format the input value with the formatter
        return formatter.format(amount);
      }
    </script>
  </body>
</html>
